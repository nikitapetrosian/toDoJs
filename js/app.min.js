(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);const e=document.querySelector("#form"),n=document.querySelector("#taskInput"),o=document.querySelector("#tasksList"),i=(document.querySelector("#emptyList"),document.querySelector("#odd")),s=document.querySelector("#notOdd"),c=document.querySelector("#firstEl"),l=document.querySelector("#lastEl"),r=document.querySelector("[data-spoller]");let d=[];function a(){if(0===d.length){const t='<li id="emptyList" class="list-group-item list-group-item_empty-list">\n\t\t\t\t\t<img src="./img/list.png" alt="Empty" width="48" class="mt-3">\n\t\t\t\t\t<div class="empty-list__title">Список дел пуст</div>\n\t\t\t\t</li>';o.insertAdjacentHTML("afterbegin",t)}if(d.length>0){const t=document.querySelector("#emptyList");t&&t.remove()}}function u(){localStorage.setItem("tasks",JSON.stringify(d))}function m(t){const e=t.done?"task-title task-title--done":"task-title",n=`<li id="${t.id}" class="list-group-item">\n\t\t\t\t\t<span class="${e}">${t.text}</span>\n\t\t\t\t\t<div class="task-item__buttons">\n\t\t\t\t\t\t<button type="button" data-action="done" class="btn-action">\n\t\t\t\t\t\t\t<img src="./img/tick.svg" alt="Done" width="18" height="18">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button type="button" data-action="delete" class="btn-action">\n\t\t\t\t\t\t\t<img src="./img/cross.svg" alt="Done" width="18" height="18">\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</li>`;o.insertAdjacentHTML("beforeend",n)}localStorage.getItem("tasks")&&(d=JSON.parse(localStorage.getItem("tasks")),d.forEach((t=>m(t)))),a(),e.addEventListener("submit",(function(t){t.preventDefault();const e=n.value,o={id:Date.now(),text:e,done:!1};d.push(o),u(),m(o),n.value="",n.focus(),a()})),o.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id);d=d.filter((t=>t.id!==n)),u(),e.remove(),a()})),o.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=e.outerHTML;o.insertAdjacentHTML("beforeend",n);const i=o.lastElementChild;e.remove(),console.log(e);const s=Number(i.id),c=d.find((t=>t.id===s));c.done=!c.done;const l=d.findIndex((t=>t.id===s));d.push(d[l]),d.splice(l,1),u();const r=i.querySelector(".task-title");r.classList.toggle("task-title--done")})),s.addEventListener("click",(function(){document.querySelectorAll(".list-group-item").forEach((function(t,e){console.log(t),e%2==0&&t.classList.toggle("odd")}))})),i.addEventListener("click",(function(){document.querySelectorAll(".list-group-item").forEach((function(t,e){console.log(t),e%2!=0&&t.classList.toggle("not-odd")}))})),c.addEventListener("click",(function(){if(o.children.length<1||o.classList.contains("list-group-item_empty-list"))return;o.firstElementChild.remove(),d.splice(0,1),u(),a()})),l.addEventListener("click",(function(){if(o.children.length<1||o.classList.contains("list-group-item_empty-list"))return;o.lastElementChild.remove(),d.splice(length-1,1),u(),a()})),r.addEventListener("click",(function(){const t=document.querySelector(".card-body_add"),e=document.querySelector(".arrow-img");t.classList.toggle("active"),e.classList.toggle("active")})),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})();